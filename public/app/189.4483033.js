(self.webpackChunkblessing_skin_server=self.webpackChunkblessing_skin_server||[]).push([[189],{8172:function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(t){return!!t&&!!t[T]}function o(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[$]||!!t.constructor[$]||l(t)||d(t))}function s(t,e,n){void 0===n&&(n=!1),0===a(t)?(n?Object.keys:J)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function a(t){var e=t[T];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:l(t)?2:d(t)?3:0}function c(t,e){return 2===a(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function u(t,e,n){var r=a(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function l(t){return R&&t instanceof Map}function d(t){return Z&&t instanceof Set}function f(t){return t.o||t.t}function h(t){if(Array.isArray(t))return t.slice();var e=B(t);delete e[T];for(var n=J(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function v(t,e){Object.isFrozen(t)||i(t)||!o(t)||(a(t)>1&&(t.set=t.add=t.clear=t.delete=p),Object.freeze(t),e&&s(t,(function(t,e){return v(e,!0)}),!0))}function p(){r(2)}function b(t){var e=L[t];return e||r(19,t),e}function y(){return M}function m(t,e){e&&(b("Patches"),t.u=[],t.s=[],t.v=e)}function g(t){j(t),t.p.forEach(O),t.p=null}function j(t){t===M&&(M=t.l)}function x(t){return M={p:[],l:M,h:t,m:!0,_:0}}function O(t){var e=t[T];0===e.i||1===e.i?e.j():e.O=!0}function P(t,e){e._=e.p.length;var n=e.p[0],i=void 0!==t&&t!==n;return e.h.g||b("ES5").S(e,t,i),i?(n[T].P&&(g(e),r(4)),o(t)&&(t=k(e,t),e.l||A(e,t)),e.u&&b("Patches").M(n[T],t,e.u,e.s)):t=k(e,n,[]),g(e),e.u&&e.v(e.u,e.s),t!==W?t:void 0}function k(t,e,n){if(null==(r=e)||"object"!=typeof r||Object.isFrozen(r))return e;var r,i=e[T];if(!i)return s(e,(function(r,o){return w(t,i,e,r,o,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return A(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=4===i.i||5===i.i?i.o=h(i.k):i.o;s(o,(function(e,r){return w(t,i,o,e,r,n)})),A(t,o,!1),n&&t.u&&b("Patches").R(i,n,t.u,t.s)}return i.o}function w(t,e,n,r,s,a){if(i(s)){var l=k(t,s,a&&e&&3!==e.i&&!c(e.D,r)?a.concat(r):void 0);if(u(n,r,l),!i(l))return;t.m=!1}if(o(s)&&!Object.isFrozen(s)){if(!t.h.N&&t._<1)return;k(t,s),e&&e.A.l||A(t,s)}}function A(t,e,n){void 0===n&&(n=!1),t.h.N&&t.m&&v(e,n)}function N(t,e){var n=t[T];return(n?f(n):t)[e]}function S(t){t.P||(t.P=!0,t.l&&S(t.l))}function D(t){t.o||(t.o=h(t.t))}function _(t,e,n){var r=l(e)?b("MapSet").T(e,n):d(e)?b("MapSet").F(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:y(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=V;n&&(i=[r],o=X);var s=Proxy.revocable(i,o),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(e,n):b("ES5").J(e,n);return(n?n.A:y()).p.push(r),r}function C(t){return i(t)||r(22,t),function t(e){if(!o(e))return e;var n,r=e[T],i=a(e);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=E(e,i),r.I=!1}else n=E(e,i);return s(n,(function(e,i){r&&function(t,e){return 2===a(t)?t.get(e):t[e]}(r.t,e)===i||u(n,e,t(i))})),3===i?new Set(n):n}(t)}function E(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return h(t)}function z(){function t(t,e){function n(){this.constructor=t}s(t,e),t.prototype=(n.prototype=e.prototype,new n)}function e(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function n(t){t.o||(t.o=new Set,t.t.forEach((function(e){if(o(e)){var n=_(t.A.h,e,t);t.p.set(e,n),t.o.add(n)}else t.o.add(e)})))}function i(t){t.O&&r(3,JSON.stringify(f(t)))}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},a=function(){function n(t,e){return this[T]={i:2,l:e,A:e?e.A:y(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,O:!1},this}t(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return f(this[T]).size}}),r.has=function(t){return f(this[T]).has(t)},r.set=function(t,n){var r=this[T];return i(r),f(r).has(t)&&f(r).get(t)===n||(e(r),S(r),r.D.set(t,!0),r.o.set(t,n),r.D.set(t,!0)),this},r.delete=function(t){if(!this.has(t))return!1;var n=this[T];return i(n),e(n),S(n),n.D.set(t,!1),n.o.delete(t),!0},r.clear=function(){var t=this[T];return i(t),e(t),S(t),t.D=new Map,t.o.clear()},r.forEach=function(t,e){var n=this;f(this[T]).forEach((function(r,i){t.call(e,n.get(i),i,n)}))},r.get=function(t){var n=this[T];i(n);var r=f(n).get(t);if(n.I||!o(r))return r;if(r!==n.t.get(t))return r;var s=_(n.A.h,r,n);return e(n),n.o.set(t,s),s},r.keys=function(){return f(this[T]).keys()},r.values=function(){var t,e=this,n=this.keys();return(t={})[U]=function(){return e.values()},t.next=function(){var t=n.next();return t.done?t:{done:!1,value:e.get(t.value)}},t},r.entries=function(){var t,e=this,n=this.keys();return(t={})[U]=function(){return e.entries()},t.next=function(){var t=n.next();if(t.done)return t;var r=e.get(t.value);return{done:!1,value:[t.value,r]}},t},r[U]=function(){return this.entries()},n}(),c=function(){function e(t,e){return this[T]={i:3,l:e,A:e?e.A:y(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,O:!1,C:!1},this}t(e,Set);var r=e.prototype;return Object.defineProperty(r,"size",{get:function(){return f(this[T]).size}}),r.has=function(t){var e=this[T];return i(e),e.o?!!e.o.has(t)||!(!e.p.has(t)||!e.o.has(e.p.get(t))):e.t.has(t)},r.add=function(t){var e=this[T];return i(e),this.has(t)||(n(e),S(e),e.o.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var e=this[T];return i(e),n(e),S(e),e.o.delete(t)||!!e.p.has(t)&&e.o.delete(e.p.get(t))},r.clear=function(){var t=this[T];return i(t),n(t),S(t),t.o.clear()},r.values=function(){var t=this[T];return i(t),n(t),t.o.values()},r.entries=function(){var t=this[T];return i(t),n(t),t.o.entries()},r.keys=function(){return this.values()},r[U]=function(){return this.values()},r.forEach=function(t,e){for(var n=this.values(),r=n.next();!r.done;)t.call(e,r.value,r.value,this),r=n.next()},e}();!function(t,e){L[t]=e}("MapSet",{T:function(t,e){return new a(t,e)},F:function(t,e){return new c(t,e)}})}n.d(e,{MD:function(){return z}});var F,M,I="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),R="undefined"!=typeof Map,Z="undefined"!=typeof Set,K="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=I?Symbol("immer-nothing"):((F={})["immer-nothing"]=!0,F),$=I?Symbol("immer-draftable"):"__$immer_draftable",T=I?Symbol("immer-state"):"__$immer_state",U="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,B=Object.getOwnPropertyDescriptors||function(t){var e={};return J(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},L={},V={get:function(t,e){if(e===T)return t;var n=f(t);if(!c(n,e))return function(t,e,n){if(n in e)for(var r=Object.getPrototypeOf(e);r;){var i,o=Object.getOwnPropertyDescriptor(r,n);if(o)return"value"in o?o.value:null===(i=o.get)||void 0===i?void 0:i.call(t.k);r=Object.getPrototypeOf(r)}}(t,n,e);var r=n[e];return t.I||!o(r)?r:r===N(t.t,e)?(D(t),t.o[e]=_(t.A.h,r,t)):r},has:function(t,e){return e in f(t)},ownKeys:function(t){return Reflect.ownKeys(f(t))},set:function(t,e,n){if(t.D[e]=!0,!t.P){if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(n,N(f(t),e))&&void 0!==n)return!0;D(t),S(t)}return t.o[e]=n,!0},deleteProperty:function(t,e){return void 0!==N(t.t,e)||e in t.t?(t.D[e]=!1,D(t),S(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=f(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){r(12)}},X={};s(V,(function(t,e){X[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),X.deleteProperty=function(t,e){return V.deleteProperty.call(this,t[0],e)},X.set=function(t,e,n){return V.set.call(this,t[0],e,n,t[0])};var q=new(function(){function t(t){this.g=K,this.N=!1,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var e=t.prototype;return e.produce=function(t,e,n){if("function"==typeof t&&"function"!=typeof e){var i=e;e=t;var s=this;return function(t){var n=this;void 0===t&&(t=i);for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return s.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(o))}))}}var a;if("function"!=typeof e&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(t)){var c=x(this),u=_(this,t,void 0),l=!0;try{a=e(u),l=!1}finally{l?g(c):j(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return m(c,n),P(t,c)}),(function(t){throw g(c),t})):(m(c,n),P(a,c))}if(!t||"object"!=typeof t){if((a=e(t))===W)return;return void 0===a&&(a=t),this.N&&v(a,!0),a}r(21,t)},e.produceWithPatches=function(t,e){var n,r,i=this;return"function"==typeof t?function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))}:[this.produce(t,e,(function(t,e){n=t,r=e})),n,r]},e.createDraft=function(t){o(t)||r(8),i(t)&&(t=C(t));var e=x(this),n=_(this,t,void 0);return n[T].C=!0,j(e),n},e.finishDraft=function(t,e){var n=(t&&t[T]).A;return m(n,e),P(void 0,n)},e.setAutoFreeze=function(t){this.N=t},e.setUseProxies=function(t){t&&!K&&r(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var o=b("Patches").$;return i(t)?o(t,e):this.produce(t,(function(t){return o(t,e.slice(n+1))}))},t}()),G=q.produce;q.produceWithPatches.bind(q),q.setAutoFreeze.bind(q),q.setUseProxies.bind(q),q.applyPatches.bind(q),q.createDraft.bind(q),q.finishDraft.bind(q),e.ZP=G},1570:function(t,e){e.w=function(t){return t}},5996:function(t,e,n){"use strict";var r=n(5893);n(3804),e.Z=()=>(0,r.jsx)("div",Object.assign({className:"container text-center",title:"Loading..."},{children:(0,r.jsx)("i",{className:"fas fa-sync fa-spin"},void 0)}),void 0)},9147:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(5893),i=(n(3804),n(88)),o=t=>{const e=["page-item"];return t.active&&e.push("active"),t.disabled&&e.push("disabled"),t.className&&e.push(t.className),(0,r.jsx)("li",Object.assign({className:e.join(" "),title:t.title,onClick:e=>{e.preventDefault(),!t.disabled&&t.onClick&&t.onClick()}},{children:(0,r.jsx)("a",Object.assign({href:"#",className:"page-link","aria-disabled":t.disabled},{children:t.children}),void 0)}),void 0)};var s=t=>{const{page:e,totalPages:n,onChange:s}=t;return n<1?null:(0,r.jsxs)("ul",Object.assign({className:"pagination"},{children:[(0,r.jsxs)(o,Object.assign({title:(0,i.t)("vendor.datatable.prev"),disabled:1===e,onClick:()=>s(e-1)},{children:["‹",(0,r.jsx)("span",Object.assign({className:"d-inline d-sm-none ml-1"},{children:(0,i.t)("vendor.datatable.prev")}),void 0)]}),void 0),n<8?Array.from({length:n}).map(((t,n)=>(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",active:e===n+1,onClick:()=>s(n+1)},{children:n+1}),n))):(0,r.jsxs)(r.Fragment,{children:[e<4?[1,2,3,4].map((t=>(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",active:e===t,onClick:()=>s(t)},{children:t}),t))):(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",onClick:()=>s(1)},{children:"1"}),void 0),(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",disabled:!0},{children:"..."}),void 0),e>3&&e<n-2&&(0,r.jsxs)(r.Fragment,{children:[[e-1,e,e+1].map((t=>(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",active:e===t,onClick:()=>s(t)},{children:t}),t))),(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",disabled:!0},{children:"..."}),void 0)]},void 0),n-e<3?[n-3,n-2,n-1,n].map((t=>(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",active:e===t,onClick:()=>s(t)},{children:t}),t))):(0,r.jsx)(o,Object.assign({className:"d-none d-sm-block",onClick:()=>s(n)},{children:n}),void 0)]},void 0),(0,r.jsxs)(o,Object.assign({title:(0,i.t)("vendor.datatable.next"),disabled:e===n,onClick:()=>s(e+1)},{children:[(0,r.jsx)("span",Object.assign({className:"d-inline d-sm-none mr-1"},{children:(0,i.t)("vendor.datatable.next")}),void 0),"›"]}),void 0)]}),void 0)}},3189:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var r=n(5893),i=n(3804),o=n(1570),s=n(57),a=n(88),c=n(6703),u=n(439),l=n(5996),d=n(9147),f=n(574);const h=f.Z.td`
  width: 15%;
`,v=f.Z.td`
  width: 20%;
`,p=f.Z.td`
  width: 25%;
`;var b=t=>{const{line:e,onEdit:n,onRemove:i}=t,o=e.text[blessing.locale];return(0,r.jsxs)("tr",{children:[(0,r.jsx)(h,{children:e.group},void 0),(0,r.jsx)(v,{children:e.key},void 0),(0,r.jsx)("td",{children:o||(0,a.t)("admin.i18n.empty")},void 0),(0,r.jsxs)(p,{children:[(0,r.jsx)("button",Object.assign({className:"btn btn-default mr-2",onClick:()=>n(e)},{children:(0,a.t)("admin.i18n.modify")}),void 0),(0,r.jsx)("button",Object.assign({className:"btn btn-danger",onClick:()=>i(e)},{children:(0,a.t)("admin.i18n.delete")}),void 0)]},void 0)]},void 0)},y=(0,o.w)((()=>{const[t,e]=(0,s.x)([]),[n,o]=(0,i.useState)(!0),[f,h]=(0,i.useState)(1),[v,p]=(0,i.useState)(1);(0,i.useEffect)((()=>{(async()=>{o(!0);const t=await c.U2("/admin/i18n/list",{page:f});e((()=>t.data)),p(t.last_page),o(!1)})()}),[f]);const y=async t=>{try{await(0,u.K)({text:(0,a.t)("admin.i18n.confirmDelete"),okButtonType:"danger"})}catch(t){return}const{message:n}=await c.IV(`/admin/i18n/${t.id}`);u.A.success(n);const{id:r}=t;e((t=>t.filter((t=>t.id!==r))))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:"card-body p-0"},{children:(0,r.jsxs)("table",Object.assign({className:"table table-striped"},{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:(0,a.t)("admin.i18n.group")},void 0),(0,r.jsx)("th",{children:(0,a.t)("admin.i18n.key")},void 0),(0,r.jsx)("th",{children:(0,a.t)("admin.i18n.text")},void 0),(0,r.jsx)("th",{children:(0,a.t)("admin.operationsTitle")},void 0)]},void 0)},void 0),(0,r.jsx)("tbody",{children:n?(0,r.jsx)("tr",{children:(0,r.jsx)("td",Object.assign({className:"text-center",colSpan:4},{children:(0,r.jsx)(l.Z,{},void 0)}),void 0)},void 0):0===t.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",Object.assign({className:"text-center",colSpan:4},{children:(0,a.t)("general.noResult")}),void 0)},void 0):t.map(((t,n)=>(0,r.jsx)(b,{line:t,onEdit:t=>(async(t,n)=>{let r;try{const{value:e}=await(0,u.K)({mode:"prompt",text:(0,a.t)("admin.i18n.updating"),input:t.text[blessing.locale]});r=e}catch(t){return}const{code:i,message:o}=await c.gz(`/admin/i18n/${t.id}`,{text:r});0===i?(u.A.success(o),e((t=>{t[n].text[blessing.locale]=r}))):u.A.error(o)})(t,n),onRemove:y},t.id)))},void 0)]}),void 0)}),void 0),(0,r.jsx)("div",Object.assign({className:"card-footer d-flex flex-row-reverse"},{children:(0,r.jsx)(d.Z,{page:f,totalPages:v,onChange:h},void 0)}),void 0)]},void 0)}))},57:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});var r=n(8172),i=n(3804);function o(t){var e=(0,i.useState)(t),n=e[1];return[e[0],(0,i.useCallback)((function(t){n((0,r.ZP)(t))}),[])]}}}]);